var y=(m,d,o)=>new Promise((t,p)=>{var u=e=>{try{s(o.next(e))}catch(a){p(a)}},f=e=>{try{s(o.throw(e))}catch(a){p(a)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,f);s((o=o.apply(m,d)).next())});import{A as L,r as h,S as T,$ as D,n as A,a0 as k,B as b,D as x,ab as R,ap as S,F as B,G as I,w as i,u as r,a6 as n,ae as g,J as _}from"./vendor.e08ba229.js";import F from"./DetailModal.3b773df5.js";import{B as M}from"./TableImg.8fa1a465.js";import{T as V}from"./BasicForm.b5d6094e.js";import{u as $}from"./useTable.54a2c50f.js";import{u as G}from"./index.b811b2f1.js";import{aG as H,b as N,aI as z}from"./index.5678fbaf.js";import{getColumns as J}from"./data.f8bf6aea.js";import"./index.a99c0b4b.js";/* empty css                */import"./useDescription.3dfd0521.js";/* empty css                *//* empty css              */import"./useForm.5db1be8a.js";import"./index.1f2bc229.js";/* empty css               *//* empty css                */import"./onMountedOrActivated.af9416e3.js";import"./useWindowSizeFn.5dd3a6d6.js";import"./useContentViewHeight.bb79e080.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.1226a91f.js";/* empty css               */import"./useSortable.06293d2d.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f6db3164.js";import"./upload.486231f6.js";/* empty css                *//* empty css                */import"./download.2b91008f.js";import"./base64Conver.08b9f4ec.js";import"./index.2b7dfa36.js";var w;(function(m){m.Error="/error"})(w||(w={}));const O=()=>H.get({url:w.Error}),W={class:"p-4"},q=["src"],Se=L({setup(m){const d=h(),o=h([]),{t}=N(),p=z(),[u,{setTableData:f}]=$({title:t("sys.errorLog.tableTitle"),columns:J(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[s,{openModal:e}]=G();T(()=>p.getErrorLogInfoList,l=>{D(()=>{f(A(l))})},{immediate:!0});function a(l){d.value=l,e(!0)}function v(){throw new Error("fire vue error!")}function E(){o.value.push(`${new Date().getTime()}.png`)}function C(){return y(this,null,function*(){yield O()})}return(l,K)=>{const j=k("a-button");return b(),x("div",W,[(b(!0),x(R,null,S(o.value,c=>B((b(),x("img",{key:c,src:c},null,8,q)),[[I,!1]])),128)),i(F,{info:d.value,onRegister:r(s)},null,8,["info","onRegister"]),i(r(M),{onRegister:r(u),class:"error-handle-table"},{toolbar:n(()=>[i(j,{onClick:v,type:"primary"},{default:n(()=>[g(_(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),i(j,{onClick:E,type:"primary"},{default:n(()=>[g(_(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),i(j,{onClick:C,type:"primary"},{default:n(()=>[g(_(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:c})=>[i(r(V),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:a.bind(null,c)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{Se as default};
