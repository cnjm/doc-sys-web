var te=Object.defineProperty,oe=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var M=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&M(e,n,t[n]);if(I)for(var n of I(t))re.call(t,n)&&M(e,n,t[n]);return e},K=(e,t)=>oe(e,ne(t));var X=(e,t,n)=>new Promise((C,f)=>{var b=r=>{try{l(n.next(r))}catch(h){f(h)}},p=r=>{try{l(n.throw(r))}catch(h){f(h)}},l=r=>r.done?C(r.value):Promise.resolve(r.value).then(b,p);l((n=n.apply(e,t)).next())});import{a as q,q as se,_ as J,ab as ie,j as le,ac as ge,p as d,w as L}from"./index.5678fbaf.js";import{A as O,B as k,D as A,H as D,a7 as F,K as W,X as U,r as w,$ as N,u as H,bn as ce,S as Z,bo as ue,R as fe,j as v,o as G,a0 as Q,a1 as Y,aD as de,ap as pe,a6 as T,ab as he,ae as me,J as He,a4 as Ce,ad as x,aC as be,aS as $e}from"./vendor.e08ba229.js";/* empty css               *//* empty css                */import{o as Fe}from"./onMountedOrActivated.af9416e3.js";import{u as ve}from"./useWindowSizeFn.5dd3a6d6.js";import{a as ye}from"./useContentViewHeight.bb79e080.js";const Pe=O({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=q("page-footer"),{getCalcContentWidth:t}=se();return{prefixCls:e,getCalcContentWidth:t}}});function Se(e,t,n,C,f,b){return k(),A("div",{class:W(e.prefixCls),style:U({width:e.getCalcContentWidth})},[D("div",{class:W(`${e.prefixCls}__left`)},[F(e.$slots,"left",{},void 0,!0)],2),F(e.$slots,"default",{},void 0,!0),D("div",{class:W(`${e.prefixCls}__right`)},[F(e.$slots,"right",{},void 0,!0)],2)],6)}var ee=J(Pe,[["render",Se],["__scopeId","data-v-7984b8f2"]]);function _e(e,t,n,C,f=0,b=w(0)){const p=w(null),{footerHeightRef:l}=ye();let r={useLayoutFooter:!0};const h=a=>{r=a};function z(){N(()=>{_()})}function y(a,R="all"){var u,P,$,B;function m(o){return Number(o.replace(/[^\d]/g,""))}let c=0;const s="0px";if(a){const o=getComputedStyle(a),g=m((u=o==null?void 0:o.marginTop)!=null?u:s),i=m((P=o==null?void 0:o.marginBottom)!=null?P:s),j=m(($=o==null?void 0:o.paddingTop)!=null?$:s),V=m((B=o==null?void 0:o.paddingBottom)!=null?B:s);R==="all"?(c+=g,c+=i,c+=j,c+=V):R==="top"?(c+=g,c+=j):(c+=i,c+=V)}return c}function S(a){return a==null?null:a instanceof HTMLDivElement?a:a.$el}function _(){return X(this,null,function*(){var B;if(!e.value)return;yield N();const a=S(H(t));if(!a)return;const{bottomIncludeBody:R}=ie(a);let m=0;n.forEach(o=>{var g,i;m+=(i=(g=S(H(o)))==null?void 0:g.offsetHeight)!=null?i:0});let c=(B=y(a))!=null?B:0;C.forEach(o=>{c+=y(S(H(o)))});let s=0;function u(o,g){if(o&&g){const i=o.parentElement;i&&(le(g)?i.classList.contains(g)?s+=y(i,"bottom"):(s+=y(i,"bottom"),u(i,g)):ge(g)&&g>0&&(s+=y(i,"bottom"),u(i,--g)))}}ce(f)?u(a,H(f)):u(a,f);let P=R-H(l)-H(b)-m-c-s;const $=()=>{var o;(o=r.elements)==null||o.forEach(g=>{var i,j;P+=(j=(i=S(H(g)))==null?void 0:i.offsetHeight)!=null?j:0})};r.useLayoutFooter&&H(l)>0,$(),p.value=P})}return Fe(()=>{N(()=>{_()})}),ve(()=>{_()},50,{immediate:!0}),Z(()=>[l.value],()=>{_()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:h,contentHeight:p}}const Re=O({name:"PageWrapper",components:{PageFooter:ee,PageHeader:ue},inheritAttrs:!1,props:{title:d.string,dense:d.bool,ghost:d.bool,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool,contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(e,{slots:t,attrs:n}){const C=w(null),f=w(null),b=w(null),p=w(null),{prefixCls:l}=q("page-wrapper");fe(je,v(()=>e.fixedHeight));const r=v(()=>e.contentFullHeight),h=v(()=>e.upwardSpace),{redoHeight:z,setCompensation:y,contentHeight:S}=_e(r,C,[f,p],[b],h);y({useLayoutFooter:!0,elements:[p]});const _=v(()=>{var s;return[l,{[`${l}--dense`]:e.dense},(s=n.class)!=null?s:{}]}),a=v(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),R=v(()=>Object.keys(G(t,"default","leftFooter","rightFooter","headerContent"))),m=v(()=>{const{contentFullHeight:s,contentStyle:u,fixedHeight:P}=e;if(!s)return E({},u);const $=`${H(S)}px`;return E(K(E({},u),{minHeight:$}),P?{height:$}:{})}),c=v(()=>{const{contentBackground:s,contentClass:u}=e;return[`${l}-content`,u,{[`${l}-content-bg`]:s}]});return Z(()=>[a.value],()=>{z()},{flush:"post",immediate:!0}),{getContentStyle:m,wrapperRef:C,headerRef:f,contentRef:b,footerRef:p,getClass:_,getHeaderSlots:R,prefixCls:l,getShowFooter:a,omit:G,getContentClass:c}}});function we(e,t,n,C,f,b){const p=Q("PageHeader"),l=Q("PageFooter");return k(),A("div",{class:W(e.getClass),ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(k(),Y(p,Ce({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),de({default:T(()=>[e.content?(k(),A(he,{key:0},[me(He(e.content),1)],64)):F(e.$slots,"headerContent",{key:1})]),_:2},[pe(e.getHeaderSlots,r=>({name:r,fn:T(h=>[F(e.$slots,r,be($e(h||{})))])}))]),1040,["ghost","title"])):x("",!0),D("div",{class:W(["overflow-hidden",e.getContentClass]),style:U(e.getContentStyle),ref:"contentRef"},[F(e.$slots,"default")],6),e.getShowFooter?(k(),Y(l,{key:1,ref:"footerRef"},{left:T(()=>[F(e.$slots,"leftFooter")]),right:T(()=>[F(e.$slots,"rightFooter")]),_:3},512)):x("",!0)],2)}var Be=J(Re,[["render",we]]);L(ee);const Ve=L(Be),je="PageWrapperFixedHeight";export{Ve as P,je as a};
