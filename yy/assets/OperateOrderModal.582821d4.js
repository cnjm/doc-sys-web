var M=Object.defineProperty,v=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var B=(o,t,e)=>t in o?M(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,c=(o,t)=>{for(var e in t||(t={}))D.call(t,e)&&B(o,e,t[e]);if(f)for(var e of f(t))j.call(t,e)&&B(o,e,t[e]);return o},F=(o,t)=>v(o,w(t));var p=(o,t,e)=>new Promise((u,d)=>{var l=a=>{try{s(e.next(a))}catch(n){d(n)}},i=a=>{try{s(e.throw(a))}catch(n){d(n)}},s=a=>a.done?u(a.value):Promise.resolve(a.value).then(l,i);s((e=e.apply(o,t)).next())});import{B as x,b as E}from"./index.b811b2f1.js";import{B as A}from"./BasicForm.b5d6094e.js";import{u as y}from"./useForm.5db1be8a.js";import{a as C}from"./order.800fae8a.js";import{_ as S}from"./index.5678fbaf.js";import{A as $,r as b,j as k,u as g,a0 as I,B as N,a1 as P,a6 as R,w as L,a4 as T}from"./vendor.e08ba229.js";const Y=[{title:"\u5546\u54C1Id",dataIndex:"productId",width:200},{title:"\u8FD0\u8425\u4EBA\u5458",dataIndex:"operateName"},{title:"\u5E7F\u544A\u4E3B\u540D",dataIndex:"adName"},{title:"\u5E7F\u544A\u4E3BID",dataIndex:"adId"},{title:"\u82B1\u8D39",dataIndex:"spend"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_at",width:180},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"update_at",width:180}],Z=[{field:"productId",label:"\u5546\u54C1Id",component:"Input",labelWidth:80,colProps:{span:8}},{field:"operateName",label:"\u8FD0\u8425\u4EBA\u5458",component:"Input",labelWidth:80,colProps:{span:8}}],U=[{field:"express_no",component:"Input",label:"\u5FEB\u9012\u5355\u53F7",required:!0}],W=$({name:"OperateOrderDrawer",components:{BasicModal:x,BasicForm:A},emits:["success","register"],setup(o,{emit:t}){const e=b(!0),u=b(""),[d,{setFieldsValue:l,resetFields:i,validate:s}]=y({labelWidth:120,schemas:U,showActionButtonGroup:!1,actionColOptions:{span:23}}),[a,{setModalProps:n,closeModal:_}]=E(r=>p(this,null,function*(){i(),n({confirmLoading:!1}),e.value=!!(r==null?void 0:r.isUpdate),g(e)&&(Object.keys(r.record).forEach(m=>{r.record[m]||delete r.record[m]}),u.value=r.record.id,l(c({},r.record)))})),h=k(()=>(g(e),"\u6807\u8BB0\u53D1\u8D27"));function O(){return p(this,null,function*(){try{const r=yield s();n({confirmLoading:!0}),console.log(r),yield C(F(c({},r),{id:u.value})),_(),t("success",{isUpdate:!0})}finally{n({confirmLoading:!1})}})}return{registerModal:a,registerForm:d,getTitle:h,handleSubmit:O}}});function G(o,t,e,u,d,l){const i=I("BasicForm"),s=I("BasicModal");return N(),P(s,T(o.$attrs,{onRegister:o.registerModal,title:o.getTitle,onOk:o.handleSubmit}),{default:R(()=>[L(i,{onRegister:o.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var V=S(W,[["render",G]]),ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V});export{V as O,ee as a,Y as c,Z as s};
