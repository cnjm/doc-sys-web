import{b8 as w,b9 as x,ba as W,bb as g,_ as v,af as y}from"./index.5678fbaf.js";import{r as _,aR as j,u as c,ak as $,ai as R,A as B,a0 as b,B as I,a1 as M,a6 as d,w as f,ae as C}from"./vendor.e08ba229.js";import{P}from"./index.1f2bc229.js";/* empty css               *//* empty css                */import"./onMountedOrActivated.af9416e3.js";import"./useWindowSizeFn.5dd3a6d6.js";import"./useContentViewHeight.bb79e080.js";const S=Symbol("watermark-dom");function z(n=_(document.body)){const a=W(function(){const t=c(n);if(!t)return;const{clientHeight:e,clientWidth:r}=t;i({height:e,width:r})}),s=S.toString(),l=j(),m=()=>{const t=c(l);l.value=void 0;const e=c(n);!e||(t&&e.removeChild(t),w(e,a))};function k(t){const e=document.createElement("canvas"),r=300,u=240;Object.assign(e,{width:r,height:u});const o=e.getContext("2d");return o&&(o.rotate(-20*Math.PI/120),o.font="15px Vedana",o.fillStyle="rgba(0, 0, 0, 0.15)",o.textAlign="left",o.textBaseline="middle",o.fillText(t,r/20,u)),e.toDataURL("image/png")}function i(t={}){const e=c(l);!e||(g(t.width)&&(e.style.width=`${t.width}px`),g(t.height)&&(e.style.height=`${t.height}px`),g(t.str)&&(e.style.background=`url(${k(t.str)}) left top repeat`))}const p=t=>{if(c(l))return i({str:t}),s;const e=document.createElement("div");l.value=e,e.id=s,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const r=c(n);if(!r)return s;const{clientHeight:u,clientWidth:o}=r;return i({str:t,width:o,height:u}),r.appendChild(e),s};function h(t){p(t),x(document.documentElement,a),R()&&$(()=>{m()})}return{setWatermark:h,clear:m}}const A=B({components:{CollapseContainer:y,PageWrapper:P},setup(){const n=_(null),{setWatermark:a,clear:s}=z();return{setWatermark:a,clear:s,areaRef:n}}}),V=C(" Create "),E=C(" Clear "),H=C(" Reset ");function L(n,a,s,l,m,k){const i=b("a-button"),p=b("CollapseContainer"),h=b("PageWrapper");return I(),M(h,{title:"\u6C34\u5370\u793A\u4F8B"},{default:d(()=>[f(p,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:d(()=>[f(i,{type:"primary",class:"mr-2",onClick:a[0]||(a[0]=t=>n.setWatermark("WaterMark Info"))},{default:d(()=>[V]),_:1}),f(i,{color:"error",class:"mr-2",onClick:n.clear},{default:d(()=>[E]),_:1},8,["onClick"]),f(i,{color:"warning",class:"mr-2",onClick:a[1]||(a[1]=t=>n.setWatermark("WaterMark Info New"))},{default:d(()=>[H]),_:1})]),_:1})]),_:1})}var J=v(A,[["render",L]]);export{J as default};
