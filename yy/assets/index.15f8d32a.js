var B=Object.defineProperty;var E=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var I=(e,s,o)=>s in e?B(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,T=(e,s)=>{for(var o in s||(s={}))L.call(s,o)&&I(e,o,s[o]);if(E)for(var o of E(s))C.call(s,o)&&I(e,o,s[o]);return e};var b=(e,s,o)=>new Promise((g,p)=>{var j=t=>{try{n(o.next(t))}catch(i){p(i)}},a=t=>{try{n(o.throw(t))}catch(i){p(i)}},n=t=>t.done?g(t.value):Promise.resolve(t.value).then(j,a);n((o=o.apply(e,s)).next())});import{aG as _,_ as w,aj as R,h as y}from"./index.5678fbaf.js";import{B as P,T as v}from"./TableImg.8fa1a465.js";import"./BasicForm.b5d6094e.js";import{u as k}from"./useTable.54a2c50f.js";import{I as W}from"./index.57c694b6.js";import{P as N}from"./index.1f2bc229.js";import{u as Y}from"./index.b811b2f1.js";import{O as $,c as H,s as V}from"./OperateOrderModal.582821d4.js";import{A as z,P as G,a0 as u,B as K,a1 as U,a6 as m,w as l,ae as D}from"./vendor.e08ba229.js";/* empty css                *//* empty css              */import"./useForm.5db1be8a.js";/* empty css                *//* empty css                *//* empty css               */import"./uuid.1226a91f.js";import"./useWindowSizeFn.5dd3a6d6.js";import"./onMountedOrActivated.af9416e3.js";/* empty css               */import"./useSortable.06293d2d.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f6db3164.js";import"./upload.486231f6.js";/* empty css                *//* empty css                */import"./download.2b91008f.js";import"./base64Conver.08b9f4ec.js";import"./index.2b7dfa36.js";/* empty css               *//* empty css                */import"./useContentViewHeight.bb79e080.js";import"./order.800fae8a.js";var f;(function(e){e.AD_LIST="/admin/ad/getAdList",e.AD_LIST_ALL="/admin/ad/getAdListAll",e.IMPORT_AD="/admin/ad/ImportAds",e.DEL="/admin/ad/delAdListAll"})(f||(f={}));const q=(e,s="message")=>_.get({url:f.AD_LIST,params:e},{errorMessageMode:s}),J=(e,s="message")=>_.post({url:f.IMPORT_AD,params:e},{errorMessageMode:s}),Q=(e,s="message")=>_.post({url:f.DEL,params:e},{errorMessageMode:s}),X=z({name:"OperateOrderManagement",components:{BasicTable:P,PageWrapper:N,OperateOrderModal:$,TableImg:v,ImpExcel:W},setup(){const e=R.OPERATE,[s,{openModal:o}]=Y(),{createConfirm:g}=y(),p=G({}),[j,{reload:a}]=k({title:"\u5E7F\u544A\u6D41\u6C34\u5217\u8868",api:q,rowKey:"id",columns:H,formConfig:{labelWidth:80,schemas:V,autoSubmitOnEnter:!0},showIndexColumn:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(r){return console.log("handleSearchInfoFn",r),r}});function n(r){const d=T({},r);o(!0,{record:d,isUpdate:!0})}function t(){return b(this,null,function*(){g({iconType:"warning",title:"\u6E29\u99A8\u63D0\u793A",content:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F",onOk:()=>b(this,null,function*(){yield Q({}),a()})})})}function i(){a()}function h(r){return b(this,null,function*(){const d=[];let x=/cy|yt|e/g,M=/\d{18}/g;for(const S of r){const{results:F}=S;for(const c of F)if(x.test(c.\u5E7F\u544A\u4E3B\u540D)){const A=c.\u5E7F\u544A\u4E3B\u540D.match(M),O=c.\u5E7F\u544A\u4E3B\u540D.match(x);Array.isArray(A)&&A.length>0&&d.push({productId:A[0],operateName:O[0],adName:c.\u5E7F\u544A\u4E3B\u540D,adId:c.\u5E7F\u544A\u4E3BID,spend:c.\u82B1\u8D39})}}yield J({ads:d}),a()})}return{registerTable:j,searchInfo:p,registerModal:s,handleDeliver:n,delAds:t,handleSuccess:i,OPERATE:e,loadDataSuccess:h,openModal:o}}}),Z=D(" \u5BFC\u5165Excel "),ee=D(" \u6E05\u9664 ");function se(e,s,o,g,p,j){const a=u("a-button"),n=u("ImpExcel"),t=u("TableImg"),i=u("BasicTable"),h=u("OperateOrderModal"),r=u("PageWrapper");return K(),U(r,{dense:"",contentFullHeight:"",contentClass:"flex"},{default:m(()=>[l(i,{onRegister:e.registerTable,searchInfo:e.searchInfo},{tableTitle:m(()=>[l(n,{onSuccess:e.loadDataSuccess,dateFormat:"YYYY-MM-DD"},{default:m(()=>[l(a,{class:"m-3"},{default:m(()=>[Z]),_:1})]),_:1},8,["onSuccess"]),l(a,{class:"m-3",onClick:e.delAds},{default:m(()=>[ee]),_:1},8,["onClick"])]),img:m(({text:d})=>[l(t,{size:60,simpleShow:!0,imgList:d},null,8,["imgList"])]),_:1},8,["onRegister","searchInfo"]),l(h,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}var ke=w(X,[["render",se]]);export{ke as default};
