var T=Object.defineProperty;var j=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var h=(e,o,t)=>o in e?T(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,g=(e,o)=>{for(var t in o||(o={}))_.call(o,t)&&h(e,t,o[t]);if(j)for(var t of j(o))C.call(o,t)&&h(e,t,o[t]);return e};import{P as x}from"./uuid.1226a91f.js";import{B as S,T as M}from"./TableImg.8fa1a465.js";import{T as I}from"./BasicForm.b5d6094e.js";import{u as B}from"./useTable.54a2c50f.js";import{g as F}from"./uploadEnum.0c123c22.js";import{P as O}from"./index.1f2bc229.js";import{u as P}from"./index.b811b2f1.js";import{G as w,c as y,s as E}from"./GoodsTypeModal.eb966ecd.js";import{_ as G,aj as A}from"./index.5678fbaf.js";import{A as D,P as v,a0 as a,B as R,a1 as k,a6 as i,w as r,ae as N}from"./vendor.e08ba229.js";/* empty css                *//* empty css              */import"./useForm.5db1be8a.js";/* empty css                *//* empty css                *//* empty css               */import"./useWindowSizeFn.5dd3a6d6.js";import"./onMountedOrActivated.af9416e3.js";/* empty css               */import"./useSortable.06293d2d.js";/* empty css                *//* empty css                *//* empty css               *//* empty css               */import"./index.f6db3164.js";import"./upload.486231f6.js";/* empty css                *//* empty css                */import"./download.2b91008f.js";import"./base64Conver.08b9f4ec.js";import"./index.2b7dfa36.js";/* empty css               *//* empty css                */import"./useContentViewHeight.bb79e080.js";const W=D({name:"GoodsTypeListManagement",components:{BasicTable:S,PageWrapper:O,GoodsTypeModal:w,TableImg:M,TableAction:I},setup(){const e=A.GOODS,o=x.MEDIA_CNJM_TOP,[t,{openModal:d}]=P(),f=v({}),[b,{reload:m,getForm:c}]=B({title:"\u5546\u54C1\u7C7B\u578B\u5217\u8868",api:F,rowKey:"id",columns:y,formConfig:{labelWidth:80,schemas:E,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,bordered:!0,handleSearchInfoFn(s){return console.log("handleSearchInfoFn",s),s},actionColumn:{width:120,title:"\u64CD\u4F5C",dataIndex:"action",slots:{customRender:"action"}}});function p(){d(!0,{isUpdate:!1})}function u(s){const n=g({},s);d(!0,{record:n,isUpdate:!0})}function l({isUpdate:s}){s&&c().updateSchema({field:"pid",componentProps:{params:{pid:0,t:new Date().getTime()}}}),m()}return{GOODS:e,registerTable:b,searchInfo:f,registerModal:t,handleCreate:p,handleEdit:u,handleSuccess:l,MEDIA_CNJM_TOP:o}}}),L=N("\u65B0\u589E\u5546\u54C1\u5206\u7C7B");function $(e,o,t,d,f,b){const m=a("a-button"),c=a("TableImg"),p=a("TableAction"),u=a("BasicTable"),l=a("GoodsTypeModal"),s=a("PageWrapper");return R(),k(s,{dense:"",contentFullHeight:"",contentClass:"flex"},{default:i(()=>[r(u,{onRegister:e.registerTable,searchInfo:e.searchInfo},{toolbar:i(()=>[r(m,{type:"primary",onClick:e.handleCreate},{default:i(()=>[L]),_:1},8,["onClick"])]),img:i(({text:n})=>[r(c,{size:60,simpleShow:!0,imgList:n,srcPrefix:e.MEDIA_CNJM_TOP},null,8,["imgList","srcPrefix"])]),action:i(({record:n})=>[r(p,{actions:[{icon:"clarity:note-edit-line",tooltip:"\u7F16\u8F91\u5546\u54C1\u5206\u7C7B",onClick:e.handleEdit.bind(null,n),auth:[e.GOODS]}]},null,8,["actions"])]),_:1},8,["onRegister","searchInfo"]),r(l,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])]),_:1})}var Me=G(W,[["render",$]]);export{Me as default};
