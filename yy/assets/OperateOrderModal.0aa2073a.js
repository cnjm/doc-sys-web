var D=Object.defineProperty,w=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var F=(t,o,e)=>o in t?D(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,c=(t,o)=>{for(var e in o||(o={}))E.call(o,e)&&F(t,e,o[e]);if(f)for(var e of f(o))M.call(o,e)&&F(t,e,o[e]);return t},B=(t,o)=>w(t,O(o));var m=(t,o,e)=>new Promise((n,d)=>{var l=r=>{try{s(e.next(r))}catch(u){d(u)}},i=r=>{try{s(e.throw(r))}catch(u){d(u)}},s=r=>r.done?n(r.value):Promise.resolve(r.value).then(l,i);s((e=e.apply(t,o)).next())});import{B as v,b as j}from"./index.b811b2f1.js";import{B as A}from"./BasicForm.b5d6094e.js";import{u as C}from"./useForm.5db1be8a.js";import{a as S}from"./order.800fae8a.js";import{_ as y}from"./index.5678fbaf.js";import{A as N,r as h,j as $,u as I,a0 as g,B as k,a1 as P,a6 as R,w as L,a4 as T}from"./vendor.e08ba229.js";const Y=[{title:"\u5E97\u94FA\u540D\u79F0",dataIndex:"shopName",width:100},{title:"\u5546\u6237\u53F7",dataIndex:"merchantId",width:100},{title:"\u5E97\u94FA\u7F16\u7801",dataIndex:"shopCode",width:120},{title:"\u8BA2\u5355\u53F7",dataIndex:"orderNo",width:180},{title:"\u8BA2\u5355\u72B6\u6001",dataIndex:"orderStatus"},{title:"\u5546\u54C1\u603B\u4EF7",dataIndex:"totalPrice"},{title:"\u8FD0\u8D39",dataIndex:"freight"},{title:"\u4F18\u60E0\u603B\u989D",dataIndex:"totalDiscount"},{title:"\u5B9E\u4ED8\u91D1\u989D",dataIndex:"amount"},{title:"\u5546\u54C1ID",dataIndex:"productId"},{title:"\u5546\u54C1\u5168\u540D",dataIndex:"productName"},{title:"\u4E0B\u5355\u4EF6\u6570",dataIndex:"orderNum"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"create_at",width:180},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"update_at",width:180}],Z=[{field:"orderNo",label:"\u8BA2\u5355\u53F7",component:"Input",labelWidth:80,colProps:{span:8}}],U=[{field:"express_no",component:"Input",label:"\u5FEB\u9012\u5355\u53F7",required:!0}],G=N({name:"OperateOrderDrawer",components:{BasicModal:v,BasicForm:A},emits:["success","register"],setup(t,{emit:o}){const e=h(!0),n=h(""),[d,{setFieldsValue:l,resetFields:i,validate:s}]=C({labelWidth:120,schemas:U,showActionButtonGroup:!1,actionColOptions:{span:23}}),[r,{setModalProps:u,closeModal:b}]=j(a=>m(this,null,function*(){i(),u({confirmLoading:!1}),e.value=!!(a==null?void 0:a.isUpdate),I(e)&&(Object.keys(a.record).forEach(p=>{a.record[p]||delete a.record[p]}),n.value=a.record.id,l(c({},a.record)))})),_=$(()=>(I(e),"\u6807\u8BB0\u53D1\u8D27"));function x(){return m(this,null,function*(){try{const a=yield s();u({confirmLoading:!0}),console.log(a),yield S(B(c({},a),{id:n.value})),b(),o("success",{isUpdate:!0})}finally{u({confirmLoading:!1})}})}return{registerModal:r,registerForm:d,getTitle:_,handleSubmit:x}}});function V(t,o,e,n,d,l){const i=g("BasicForm"),s=g("BasicModal");return k(),P(s,T(t.$attrs,{onRegister:t.registerModal,title:t.getTitle,onOk:t.handleSubmit}),{default:R(()=>[L(i,{onRegister:t.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var W=y(G,[["render",V]]),ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});export{W as O,ee as a,Y as c,Z as s};
